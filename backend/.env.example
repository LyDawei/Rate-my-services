# Baymax IT Care - Backend Configuration

# Server port (default: 3001)
PORT=3001

# Frontend URL(s) for CORS (default: http://localhost:5173)
# Supports multiple origins separated by commas
# Use *.vercel.app to allow all Vercel preview deployments
#
# Examples:
#   Development: http://localhost:5173
#   Production:  https://baymax.vercel.app
#   Multiple:    https://baymax.vercel.app,http://localhost:5173
#   Wildcard:    *.vercel.app (allows all Vercel subdomains)
FRONTEND_URL=http://localhost:5173

# Database path (default: ./ratings.db)
# DATABASE_PATH=/path/to/ratings.db

# Trust proxy setting for reverse proxies (Cloudflare Tunnel, nginx, etc.)
# Set to 'true' when running behind a reverse proxy
# This enables express-rate-limit to correctly identify clients by IP
# REQUIRED for Cloudflare Tunnel deployments
TRUST_PROXY=true

# (Optional) Number of proxies to trust (default: 1)
# Increase this if you have multiple proxies in front of your app
# TRUST_PROXY_COUNT=1

# Session secret for admin authentication (CHANGE IN PRODUCTION!)
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-secure-random-secret-here

# ==============================================
# PRODUCTION DEPLOYMENT (Cloudflare Tunnel)
# ==============================================
#
# 1. Run: npm run setup:tunnel
#    This will guide you through creating a Cloudflare Tunnel
#
# 2. Update FRONTEND_URL with your Vercel app URL:
#    FRONTEND_URL=https://baymax.vercel.app,http://localhost:5173
#
# 3. Start production: npm run production
#    This starts both the server and the tunnel
