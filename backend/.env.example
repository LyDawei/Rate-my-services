# Baymax IT Care - Backend Configuration

# Environment mode (development or production)
# In production: enables secure cookies, stricter validation, cross-origin cookie support
NODE_ENV=development

# Server port (default: 3001)
PORT=3001

# PostgreSQL Database URL
# Format: postgresql://user:password@host:port/database
# Local development example:
DATABASE_URL=postgresql://postgres:password@localhost:5432/baymax

# Frontend URL(s) for CORS (default: http://localhost:5173)
# Supports multiple origins separated by commas
# Use *.onrender.com to allow all Render preview deployments
#
# Examples:
#   Development: http://localhost:5173
#   Production:  https://baymax-frontend.onrender.com
#   Multiple:    https://baymax-frontend.onrender.com,http://localhost:5173
#   Wildcard:    *.onrender.com (allows all Render subdomains)
FRONTEND_URL=http://localhost:5173

# Trust proxy setting for reverse proxies (Render, nginx, etc.)
# Set to 'true' when running behind a reverse proxy
# This enables express-rate-limit to correctly identify clients by IP
# REQUIRED for Render deployments
TRUST_PROXY=true

# (Optional) Number of proxies to trust (default: 1)
# Increase this if you have multiple proxies in front of your app
# TRUST_PROXY_COUNT=1

# Session secret for admin authentication (CHANGE IN PRODUCTION!)
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Must be at least 64 characters in production
SESSION_SECRET=your-secure-random-secret-here-at-least-64-characters-long-for-production

# ==============================================
# RENDER DEPLOYMENT
# ==============================================
#
# 1. Connect your GitHub repo to Render
# 2. Deploy using the render.yaml Blueprint
# 3. Set FRONTEND_URL to your Render frontend URL:
#    FRONTEND_URL=https://baymax-frontend.onrender.com
# 4. Set VITE_API_URL on the frontend to:
#    https://baymax-api.onrender.com/api
#
# Note: DATABASE_URL and SESSION_SECRET are automatically
# configured by Render when using the Blueprint.
